<!-- if game is launched from school computer, extract the zip folder. -->
<!-- remember to publish changes from github desktop -->
<script>
    function update() {
        document.getElementById('text').value = gemcount;

        document.title = "Gem Collecter | " + gemcount + " gems";

        document.getElementById('amountAutoClick').innerHTML =  autoClick;
        document.getElementById('costAutoClick').innerHTML = ((autoClick + 1) * 15) + " Gems";

        document.getElementById('amountShopper').innerHTML = shopper;
        document.getElementById('costShopper').innerHTML = ((shopper + 1) * 100) + " Gems";

        document.getElementById('amountFarm').innerHTML = farm;
        document.getElementById('costFarm').innerHTML = ((farm + 1) * 750) + " Gems";

        document.getElementById('amountFactory').innerHTML = factory;
        document.getElementById('costFactory').innerHTML = ((factory + 1) * 5000) + " Gems";

        document.getElementById('amountSuperClick').innerHTML = superclick;
        document.getElementById('costSuperClick').innerHTML = ((superclick + 1) * (5000 * (superclick + 1))) + " Gems";

        document.getElementById("gemsPerSec").innerHTML = (((autoClick) + (shopper * 3) + (farm * 10) + (factory * 75))) + " Gem(s) per Second";

        document.getElementById("gemsPerClick").innerHTML = clickmultiplier + " Gem(s) per Click";

        document.getElementById("crumbs").innerHTML = crumbs + " crumbs";

    }
    
    var clickmultiplier = 1

    var gemcount = 0;
    var crumbs = 0;
    var autoClick = 0;
    var shopper = 0;
    var farm = 0;
    var factory = 0;

    var superclick = 0;

    var snd = new Audio("sounds/buy.mp3");
    var snd2 = new Audio("sounds/click.mp3");


    function timer() {
        gemcount = gemcount + autoClick;
        save();
        update();
    }
    setInterval(timer, 1000)

    function timer2() {
        gemcount = gemcount + shopper;
        save();
        update();
    }
    setInterval(timer2, 333.33333)

    function timer3() {
        gemcount = gemcount + farm;
        save();
        update();
    }
    setInterval(timer3, 100)

    function timer4() {
        gemcount = gemcount + factory;
        save();
        update();
    }
    setInterval(timer4, 13.33333)
</script>
<html>
    <head>
        <title>Gem Collecter | 0 gems</title>
        <link rel="stylesheet" href="fonts/fonts.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Tilt+Warp&display=swap" rel="stylesheet">

        <style>
        body {
        background-image: url('images/background.png');
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
        }

        .top_header {
            position: absolute;
            top: 25px;
            right: 5px;
            width: 200px;
            height: 100px;
        }

        .top_header2 {
            position: absolute;
            top: 25px;
            right: 750px;
            width: 200px;
            height: 100px;
        }

        .top_header3 {
            position: absolute;
            top: 25px;
            right: 250px;
            width: 200px;
            height: 100px;
        }

        .right_header {
        color: #000000;
        float: right;
        }

        .left_header {
        color: #000000;
        float: left;
        }


        .hr{
            border:0.3rem solid rgb(86, 61, 0);
            border-radius: 25px;
            height:0;
            width: 178px;
        }

        .boxed {
            background-color: rgb(156, 139, 78);
            padding-left: 2px;
            border: 5px solid rgb(86, 61, 0);
            border-radius: 25px;
        }

        .boxed2 {
            background-color: rgb(156, 139, 78);
            padding-left: 2px;
            padding-right: 10px;            
            border: 5px solid rgb(86, 61, 0);
            border-radius: 25px;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: rgb(111, 243, 255);
            color: #000000;
            text-align: center;
            border-radius: 10px;
            padding: 5px 0;
  
            position: absolute;
            z-index: 1;
            top: -5px;
            left: 105%;
            }

        .tooltip:hover .tooltiptext {
            visibility: visible;
        }
        </style>
    </head>
    <body onload="load()">

        <p id="gemsPerSec">0 Gem(s) per Second</p>
        <!-- add more GPC upgrades -->
        <p id="gemsPerClick">1 Gem(s) per Click</p>
        <a href=# onclick="add()"><img src="images/gem.png"></a>
        <br><br>
        <p><input type="text" id="text" disabled style= text-align:center> gems</p>
        <script>
            function add() {
                gemcount = gemcount + 1 * clickmultiplier
                document.getElementById('text').value = gemcount;
                document.title = "Gem Collecter | " + gemcount + " gems"
                save()
                snd2.play();
                snd2.playbackRate = 1.5
            }
        </script>

        <!--
            <div class="top_header2">
            <div class="boxed2">
                <h3>Stats:</h3>
                <div class="tooltip">
                    <p id="crumbs">0 crumbs</p>
                    <span class="tooltiptext">Crumbs are a currency to help you earn crumb upgrades to make huge changes to your GPS and GPC. Buy your first crumb upgrade to be able to earn more crumbs.</span>
                </div>
                
            </div>
        </div>
        -->
        

        <br>

        <!-- super click needs to be fixed -->

        <!--
            <div class="right_header">
            <div class="top_header"><div class="boxed">
                <h3>GMC Upgrades</h3>
                <p style="position: absolute; right: 50px; top: 40px">Super Click</p>
                <div class="tooltip">
                    <a href="#" onclick="buySuperClick();"><img src=images/SuperClick.png></a>
                    <span class="tooltiptext">Every time you buy a Super Click, 1 GPC gets added.</span>
                </div>
                <p id="costSuperClick" style="position: absolute; left: 60px; top: 65px" > Gems</p>
                <p id="amountSuperClick" style="font-size:large; position: absolute; right: 10px; top: 62.5px">0</p>
                
                </div>
            </div>
        -->
        
                
            
            <br>

            <!-- change div to top_header3 after GT night-->
            <div class="top_header">
            <div class="boxed">
            <h3>GMS Upgrades</h3>
            <p style="position: absolute; right: 50px; top: 40px">Auto Clicker</p>
            <div class="tooltip">
                <a href="#" onclick="buyAutoClick();"><img src=images/mouse.png></a>
                <span class="tooltiptext">Every time you buy an autoclicker, 1 gem is earned every second.</span>
            </div>

            <p id="costAutoClick" style="position: absolute; left: 60px; top: 65px"> Gems</p>
            <p id="amountAutoClick" style="font-size:large; position: absolute; right: 10px; top: 62.5px">0 Auto Clickers</p>

            <br>
            <br>

            <div class="hr"></div>  
            <br> 

            <p style="position: absolute; top: 140px; left: 60px">Shopper</p>
            <div class="tooltip">
                <a href="#" onclick="buyShopper();"><img src=images/shopper.png></a>
                <span class="tooltiptext">Every time you buy a shopper, 3 gems are earned every second.</span>
            </div>

            <p id="costShopper" style="position: absolute; left: 60px; top: 165px"> Gems</p>
            <p id="amountShopper" style="font-size:large; position: absolute; right: 10px; top: 160px">0</p>

            <br>
            <br>
        

            <div class="hr"></div>  
            <br>

            <p style="position: absolute; top: 235px; left: 60px">Farm</p>
            <div class="tooltip">
            <a href="#" onclick="buyFarm()"><img src=images/farm.png></a>
            <span class="tooltiptext">Every time you buy a farm, 10 gems are earned every second.</span>
            </div>
            <p id="costFarm" style="position: absolute; left: 60px; top: 262.5px"> Gems</p>
            <p id="amountFarm" style="font-size:large; position: absolute; right: 10px; top: 257.5px">0</p>


            <div class="hr"></div>  
            <br>

            <p style="position: absolute; top: 310px; left: 60px">Factory</p>
            <div class="tooltip">
                <a href="#" onclick="buyFactory()"><img src=images/factory.png></a>
                <span class="tooltiptext">Every time you buy a factory, 75 gems are earned every second.</span>
            </div>
            <p id="costFactory" style="position: absolute; left: 60px; top: 340.5px"> Gems</p>
            <p id="amountFactory" style="font-size:large; position: absolute; right: 10px; top: 335.5px">0</p>
            <br>
            <br>
        </div></div>
            
            
        </div>
        <br>
            
            <!-- fix save and load functions, if it can not be fixed, then add save and load buttons-->
     
        <script>
            
            
            
            function save() {
                localStorage.setItem("gemcount", gemcount);

                localStorage.setItem("clickmultiplier", clickmultiplier);

                localStorage.setItem("autoClick", autoClick);

                localStorage.setItem("shopper", shopper);

                localStorage.setItem("farm", farm);

                localStorage.setItem("factory", factory);

                localStorage.setItem("SuperClick", superclick);

                localStorage.setItem("crumbs", crumbs);
            }

            function load() {
                gemcount = localStorage.getItem("gemcount");
                gemcount = parseInt(gemcount);

                clickmultiplier = localStorage.getItem("clickmultiplier");
                clickmultiplier = parseInt(clickmultiplier);

                document.getElementById('text').value = gemcount;
                document.title = "Gem Collecter | " + gemcount + " gems"

                autoClick = localStorage.getItem("autoClick");
                autoClick = parseInt(autoClick);

                shopper = localStorage.getItem("shopper");
                shopper = parseInt(shopper);

                farm = localStorage.getItem("farm");
                farm = parseInt(farm);

                factory = localStorage.getItem("factory");
                factory = parseInt(factory);
                
                superclick = localStorage.getItem("superclick");
                superclick = parseInt(superclick);

                document.getElementById('text').value = gemcount;

                document.title = "Gem Collecter | " + gemcount + " gems";

                document.getElementById('amountAutoClick').innerHTML =  autoClick;
                document.getElementById('costAutoClick').innerHTML = ((autoClick + 1) * 15) + " Gems";

                document.getElementById('amountShopper').innerHTML = shopper;
                document.getElementById('costShopper').innerHTML = ((shopper + 1) * 100) + " Gems";

                document.getElementById('amountFarm').innerHTML = farm;
                document.getElementById('costFarm').innerHTML = ((farm + 1) * 750) + " Gems";

                document.getElementById('amountFactory').innerHTML = factory;
                document.getElementById('costFactory').innerHTML = ((factory + 1) * 5000) + " Gems";

                document.getElementById('amountSuperClick').innerHTML = superclick;
                document.getElementById('costSuperClick').innerHTML = ((superclick + 1) * (5000 * (superclick + 1))) + " Gems";

                document.getElementById("gemsPerSec").innerHTML = (((autoClick) + (shopper * 3) + (farm * 10) + (factory * 75))) + " Gem(s) per Second";

                document.getElementById("gemsPerClick").innerHTML = clickmultiplier + " Gem(s) per Click";

                document.getElementById("crumbs").innerHTML = crumbs + " crumbs";
            }

            function buySuperClick() {
                if (gemcount >= (5000 * (clickmultiplier + 1))) {
                superclick = superclick + 1;
                clickmultiplier = clickmultiplier + 1;
                save();
                snd.play();
                snd.playbackRate = 1.5
                update()
                }
            }
            function buyAutoClick() {
                if (gemcount >= ((autoClick + 1) * 15)) {
                    gemcount = gemcount - ((autoClick + 1) * 15)
                    autoClick = autoClick + 1
                    snd.play();
                    snd.playbackRate = 1.5
                    save()
                    update()
                }
            }

            function buyShopper() {
                if (gemcount >= ((shopper + 1) * 100)) {
                    gemcount = gemcount - ((shopper + 1) * 100)
                    shopper = shopper + 1
                    save()
                    snd.play();
                    snd.playbackRate = 1.5
                    update()
                }
            }

            function buyFarm() {
                if (gemcount >= ((farm + 1) * 750)) {
                    gemcount = gemcount - ((farm + 1) * 750)
                    farm = farm + 1
                    save()
                    snd.play();
                    snd.playbackRate = 1.5
                    update()
                }
            }

            function buyFactory() {
                if (gemcount >= ((factory + 1) * 5000)) {
                    gemcount = gemcount - ((factory + 1) * 5000)
                    factory = factory + 1
                    save()
                    snd.play();
                    snd.playbackRate = 1.5
                    update()
                }
            }
        </script>
    </body>
</html>